<html>
  <head>
    <title>Securing APIs LnL Notes</title>
    <style>
        h1, h2, li, p {
            font-family: "Segoe UI",Arial,sans-serif;
            font-style: normal;
        }
    </style>
  </head>
  <body>
    <img src="../logo.png"></img><br />
    <h1>Securing APIs LnL Notes</h1>

    <h2>Overview</h2>
    <ul>
      <li>Securing distributed systems</li>
      <li>A few different types (HTTP Basic over TLS, NTLM, OAuth 2)</li>
	  <li>Securing microservices with OAuth 2 (We don't want to require each service to have a request handler for authentication/authorization.  Overview diagram of how implicit flow works)</li>
      <li>Demo</li>
    </ul>
	
	<h2>Topics</h2>
	<ul>
	  <li>Denver/UberConf overview</li>
	  <li>Identity, Federated Identity</li>
	  <li>HTTP Basic alone is not secure</li>
	  <li>Privilege</li>
	  <li>Microservices</li>
	  <li>TLS is more secure than SSL</li>
	  <li>Oauth 2 is not an authentication protocol, and it is not an authorization protocol.  It is a delegation protocol (Include power-of-attorney analogy) (podcast: The user delegates access to app so that it can access resources.  The resource server can still reject the request!!)</li>
	  <li>Stateless authentication with OAuth 2 and JWT</li>
	  <li>Stateless tokens</li>
	  <li>JWT / JOSE</li>
	  <li>JWT signing by Authorization Server (OAuth server) using private key.  Resource server can verify access token is valid.</li>
	  <li>Passport???</li>
	  <li>Security issues with storing API key in JavaScript</li>
	</ul>
	
	<h2>JWTs</h2>
	<ul>
	  <li><a href="https://ponyfoo.com/articles/json-web-tokens-vs-session-cookies">JWTs vs Session Cookies</a></li>
	</ul>
	
	<h2>Demo</h2>
	<ul>
	  <li>Spring Security OAuth 2 Authorization Server</li>
      <li>Dropwizard Resource server</li>
	  <li>AngularJS/sass/materialize??? client</li>
	  <li><a href="http://passportjs.org/">Passport</a> for front-end OAuth 2</li>
	  <li>User as the Resource Owner</li>
	</ul>
	
	<h2>OAuth Scopes</h2>
	<p>A scope is a permission.</p>
    <a href="http://docs.apigee.com/api-services/content/working-scopes">apigee: Working with OAuth2 Scopes</a><br />
	<a href="https://blogs.oracle.com/OracleIDM/entry/securing_access_with_oauth2_how">Article about OAuth2 scopes</a> (Also contains a good description of access tokens.)<br />
	<p>Figuring out what scopes to expose is a responsibility of an application developer, and it may be confusing at first:
    <ul>
        <li>Do I expose a single scope protecting the entire service, or do I expose scopes to protect fine-grained business functionality of my application?</li>
        <li>Do I break up my service into many smaller services with one scope each, or do I build multi-functional service with multiple fine-grained scopes?</li>
        <li>How do I balance the needs of my clients to request specific capabilities and the needs of my application owners to manage appropriate policies?</li>
    </ul>
    </p>
	
	<h2>General OAuth 2 Resources</h2>
	<a href="https://api.slack.com/docs/oauth">Using OAuth 2.0 (Slack)</a><br />
	
	<h2>Blurb</h2>
	<ul>
	  <li>Learn techniques and technologies for guarding protected resources in systems composed of multiple distributed HTTP services.</li>
	</ul>
    </body>
</html>
